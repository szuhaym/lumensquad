{%- comment -%}
Include usage: {% include t.html key="home_title" lang="hu" %}
Supports dot-notation keys, falls back to page.lang then site.default_lang.
{%- endcomment -%}

{% assign lang = include.lang | default: page.lang | default: site.default_lang %}
{% assign key = include.key | default: '' %}
{% if key == '' %}
  {{ '' }}
{% else %}
  {% assign parts = key | split: '.' %}
  {% assign val = site.data.i18n[lang] %}
  {% for p in parts %}
    {% if val %}
      {% assign val = val[p] %}
    {% endif %}
  {% endfor %}
  {{ val | default: key }}
{% endif %} 